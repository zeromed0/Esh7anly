import{c as j,w as A,a as e,t as v,o as u,f as p,i as a,v as d,j as x,F as w,m as h,r as m,e as f}from"./app-0rN-RD4x.js";import{A as D}from"./AdminLayout-B31MEDCB.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"p-6"},q={key:0,class:"mb-6 p-4 bg-white rounded shadow flex flex-col gap-2"},z={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"},H=["src","onClick"],I={class:"text-center font-semibold"},J={class:"text-gray-500 text-sm text-center"},K={class:"flex gap-2 mt-2"},P=["onClick"],Q=["onClick"],R={key:0,class:"mt-2 w-full flex flex-col gap-2"},W={key:1,class:"mt-4 w-full"},X={class:"w-full text-left border-collapse mb-2"},Y={class:"px-2 py-1"},Z={class:"px-2 py-1"},ee={class:"px-2 py-1"},le=["src"],oe={class:"px-2 py-1 flex gap-2"},te=["onClick"],se=["onClick"],ne={class:"flex flex-col gap-2"},ae=["onClick"],de={key:0,class:"flex flex-col gap-2 p-2 border rounded bg-gray-50"},re={key:0,class:"mt-2 p-2 border rounded bg-gray-50 flex flex-col gap-2"},ie={__name:"TopUps",props:{games:Array},setup(_){const g=m(!1),c=m({name:"",description:"",image:""}),r=m({}),y=m({}),b=m({}),i=m({game_id:"",name:"",price:"",image:""}),n=m({}),k=()=>{f(c.value).post("/admin/topups",{onSuccess:()=>{c.value={name:"",description:"",image:""},g.value=!1}})},C=s=>{r.value={...s}},U=()=>{r.value={}},V=()=>{f(r.value).put("/admin/topups/game/"+r.value.id,{onSuccess:()=>r.value={}})},G=s=>{confirm("هل تريد حذف هذه اللعبة؟")&&f({}).delete("/admin/topups/game/"+s)},O=s=>{y.value=y.value.id===s.id?{}:s},$=s=>{b.value[s]=!b.value[s],i.value={game_id:s,name:"",price:"",image:""}},F=()=>{f(i.value).post("/admin/topups/offer",{onSuccess:()=>{b.value[i.value.game_id]=!1,i.value={game_id:"",name:"",price:"",image:""}}})},E=(s,l)=>{n.value={...s,game_id:l}},S=()=>{n.value={}},B=()=>{f(n.value).put("/admin/topups/offer/"+n.value.id,{onSuccess:()=>n.value={}})},N=s=>{confirm("هل تريد حذف هذا العرض؟")&&f({}).delete("/admin/topups/offer/"+s)};return(s,l)=>(u(),j(D,null,{default:A(()=>[e("div",M,[l[16]||(l[16]=e("h1",{class:"text-2xl font-bold mb-6 text-gray-800"},"الشحنات (Top Ups)",-1)),e("button",{onClick:l[0]||(l[0]=t=>g.value=!g.value),class:"bg-blue-600 text-white px-4 py-2 rounded mb-6 hover:bg-blue-700 transition"},v(g.value?"إلغاء":"إضافة لعبة جديدة"),1),g.value?(u(),p("div",q,[a(e("input",{"onUpdate:modelValue":l[1]||(l[1]=t=>c.value.name=t),placeholder:"اسم اللعبة",class:"border p-2 rounded w-full"},null,512),[[d,c.value.name]]),a(e("input",{"onUpdate:modelValue":l[2]||(l[2]=t=>c.value.description=t),placeholder:"الوصف (اختياري)",class:"border p-2 rounded w-full"},null,512),[[d,c.value.description]]),a(e("input",{"onUpdate:modelValue":l[3]||(l[3]=t=>c.value.image=t),placeholder:"رابط الصورة (اختياري)",class:"border p-2 rounded w-full"},null,512),[[d,c.value.image]]),e("button",{onClick:k,class:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition"}," حفظ ")])):x("",!0),e("div",z,[(u(!0),p(w,null,h(_.games,t=>(u(),p("div",{key:t.id,class:"bg-white rounded shadow p-4 flex flex-col items-center"},[e("img",{src:t.image||"/images/default-game.png",alt:"Game Image",class:"w-24 h-24 object-cover rounded mb-2 cursor-pointer",onClick:o=>O(t)},null,8,H),e("h2",I,v(t.name),1),e("p",J,v(t.description),1),e("div",K,[e("button",{onClick:o=>C(t),class:"bg-yellow-400 text-white px-3 py-1 rounded hover:bg-yellow-500"},"تعديل",8,P),e("button",{onClick:o=>G(t.id),class:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600"},"حذف",8,Q)]),r.value.id===t.id?(u(),p("div",R,[a(e("input",{"onUpdate:modelValue":l[4]||(l[4]=o=>r.value.name=o),placeholder:"اسم اللعبة",class:"border p-2 rounded w-full"},null,512),[[d,r.value.name]]),a(e("input",{"onUpdate:modelValue":l[5]||(l[5]=o=>r.value.description=o),placeholder:"الوصف",class:"border p-2 rounded w-full"},null,512),[[d,r.value.description]]),a(e("input",{"onUpdate:modelValue":l[6]||(l[6]=o=>r.value.image=o),placeholder:"رابط الصورة",class:"border p-2 rounded w-full"},null,512),[[d,r.value.image]]),e("button",{onClick:V,class:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition"},"تحديث"),e("button",{onClick:U,class:"bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500 transition"},"إلغاء")])):x("",!0),y.value.id===t.id?(u(),p("div",W,[l[15]||(l[15]=e("h3",{class:"font-semibold mb-2"},"العروض",-1)),e("table",X,[l[14]||(l[14]=e("thead",null,[e("tr",{class:"border-b"},[e("th",{class:"px-2 py-1"},"الاسم"),e("th",{class:"px-2 py-1"},"السعر"),e("th",{class:"px-2 py-1"},"صورة العرض"),e("th",{class:"px-2 py-1"},"أفعال")])],-1)),e("tbody",null,[(u(!0),p(w,null,h(t.offers,o=>(u(),p("tr",{key:o.id,class:"border-b"},[e("td",Y,v(o.name),1),e("td",Z,v(o.price),1),e("td",ee,[e("img",{src:o.image||"/images/default-offer.png",class:"w-12 h-12 object-cover rounded"},null,8,le)]),e("td",oe,[e("button",{onClick:T=>E(o,t.id),class:"bg-yellow-400 text-white px-3 py-1 rounded hover:bg-yellow-500"},"تعديل",8,te),e("button",{onClick:T=>N(o.id),class:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600"},"حذف",8,se)])]))),128))])]),e("div",ne,[e("button",{onClick:o=>$(t.id),class:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 transition mb-2"},v(b.value[t.id]?"إلغاء":"إضافة عرض جديد"),9,ae),b.value[t.id]?(u(),p("div",de,[a(e("input",{"onUpdate:modelValue":l[7]||(l[7]=o=>i.value.name=o),placeholder:"اسم العرض",class:"border p-2 rounded w-full"},null,512),[[d,i.value.name]]),a(e("input",{"onUpdate:modelValue":l[8]||(l[8]=o=>i.value.price=o),type:"number",placeholder:"السعر",class:"border p-2 rounded w-full"},null,512),[[d,i.value.price]]),a(e("input",{"onUpdate:modelValue":l[9]||(l[9]=o=>i.value.image=o),placeholder:"رابط الصورة (اختياري)",class:"border p-2 rounded w-full"},null,512),[[d,i.value.image]]),a(e("input",{type:"hidden","onUpdate:modelValue":l[10]||(l[10]=o=>i.value.game_id=o)},null,512),[[d,i.value.game_id]]),e("button",{onClick:F,class:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition"},"حفظ")])):x("",!0)]),n.value.id&&n.value.game_id===t.id?(u(),p("div",re,[a(e("input",{"onUpdate:modelValue":l[11]||(l[11]=o=>n.value.name=o),placeholder:"اسم العرض",class:"border p-2 rounded w-full"},null,512),[[d,n.value.name]]),a(e("input",{"onUpdate:modelValue":l[12]||(l[12]=o=>n.value.price=o),type:"number",placeholder:"السعر",class:"border p-2 rounded w-full"},null,512),[[d,n.value.price]]),a(e("input",{"onUpdate:modelValue":l[13]||(l[13]=o=>n.value.image=o),placeholder:"رابط الصورة",class:"border p-2 rounded w-full"},null,512),[[d,n.value.image]]),e("button",{onClick:B,class:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition"},"تحديث"),e("button",{onClick:S,class:"bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500 transition"},"إلغاء")])):x("",!0)])):x("",!0)]))),128))])])]),_:1}))}},me=L(ie,[["__scopeId","data-v-8b5aa3e1"]]);export{me as default};
